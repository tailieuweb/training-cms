window.anwpPostGridElementor={},function(window,$,app,l10n){app.init=function(){app.cache(),app.bindEvents()},app.cache=function(){app.$c={body:$(document.body)}},app.bindEvents=function(){$(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/anwp-pg-simple-slider.default",function($scope){app.initSwiper($scope)}),elementorFrontend.hooks.addAction("frontend/element_ready/anwp-pg-classic-slider.default",function($scope){app.initSwiper($scope)}),elementorFrontend.hooks.addAction("frontend/element_ready/anwp-pg-classic-blog.default",function($scope){app.initPagination($scope)}),elementorFrontend.hooks.addAction("frontend/element_ready/anwp-pg-classic-grid.default",function($scope){app.initPagination($scope)}),elementorFrontend.hooks.addAction("frontend/element_ready/anwp-pg-light-grid.default",function($scope){app.initPagination($scope)}),elementorFrontend.hooks.addAction("frontend/element_ready/anwp-pg-simple-grid.default",function($scope){app.initPagination($scope)}),app.initLoadMore(),app.initPromotionTooltip(),app.$c.body.addClass("anwp-pg-ready")})},app.initPromotionTooltip=function(){if(l10n.premium_active)return!1;$(parent.document).on("click",function(wrapper){wrapper=$(wrapper.target).closest(".elementor-element--promotion");wrapper.length&&wrapper.find(".anwp-pg-pro-promotion-icon").length&&window.open("https://grid.anwp.pro/premium-demo/","_blank")})},app.initLoadMore=function(){var $btn=app.$c.body.find(".anwp-pg-load-more__btn");return!!$btn.length&&(!$btn.closest(".anwp-pg-wrap").find(".anwp-pg-widget-header__has-filters").length&&void $btn.on("click",function(e){e.preventDefault();var $this=$(this);if($this.hasClass("anwp-pg-load-more--active"))return!1;$this.addClass("anwp-pg-load-more--active disabled"),$this.prop("disabled",!0),$.ajax({url:l10n.ajax_url,type:"POST",dataType:"json",data:{action:"anwp_pg_load_more_posts",args:$this.data("anwp-load-more"),loaded:$this.data("anwp-loaded-qty"),qty:$this.data("anwp-posts-per-load"),_ajax_nonce:l10n.public_nonce}}).done(function(response){response.success&&($(response.data.html).appendTo($this.closest(".anwp-pg-wrap").find(".anwp-pg-posts-wrapper")),$this.data("anwp-loaded-qty",response.data.offset),response.data.next||$this.closest(".anwp-pg-load-more").remove(),$(document.body).trigger("post-load"),$(document).trigger("resize"))}).always(function(){$this.removeClass("anwp-pg-load-more--active disabled"),$this.prop("disabled",!1)})}))},app.initSwiper=function($scope){var $slider=$scope.find(".anwp-pg-swiper-wrapper");if(!$slider.length)return!1;var swiperOptions={autoHeight:"yes"!==$slider.data("pg-show-read-more"),roundLengths:!0,effect:$slider.data("pg-effect"),spaceBetween:$slider.data("pg-space-between"),slidesPerView:$slider.data("pg-slides-per-view-mobile"),slidesPerGroup:$slider.data("pg-slides-per-group-mobile"),breakpoints:{576:{slidesPerView:$slider.data("pg-slides-per-view-tablet"),slidesPerGroup:$slider.data("pg-slides-per-group-tablet")},769:{slidesPerView:$slider.data("pg-slides-per-view"),slidesPerGroup:$slider.data("pg-slides-per-group")}}};"yes"===$slider.data("pg-autoplay")&&(swiperOptions.autoplay={delay:$slider.data("pg-autoplay-delay")}),"yes"===$slider.data("pg-enable-observer")&&(swiperOptions.observer=!0,swiperOptions.observeParents=!0),"fade"===swiperOptions.effect&&(swiperOptions.fadeEffect={crossFade:!0}),$scope.find(".swiper-pagination").length&&(swiperOptions.pagination={el:".swiper-pagination",type:"bullets",clickable:!0}),$scope.find(".elementor-swiper-button-prev").length&&(swiperOptions.navigation={prevEl:".elementor-swiper-button-prev",nextEl:".elementor-swiper-button-next"}),new("undefined"==typeof Swiper?elementorFrontend.utils.swiper:Swiper)($slider[0],swiperOptions)},app.initPagination=function($wrappers){$wrappers=$wrappers.find(".anwp-pg-pagination");if(!$wrappers.length)return!1;$wrappers.each(function(){var $wrapper=$(this),$xhr=null,$loader='<img class="anwp-pg-pagination-loader" src="'+l10n.loader+'" alt="loader">';if($wrapper.closest(".anwp-pg-wrap").find(".anwp-pg-widget-header__has-filters").length)return!1;var options={show_previous:"yes"===$wrapper.data("anwp-show_previous"),show_next:"yes"===$wrapper.data("anwp-show_next"),show_first_ellipsis:"yes"===$wrapper.data("anwp-show_first_ellipsis"),show_last_ellipsis:"yes"===$wrapper.data("anwp-show_last_ellipsis"),auto_hide_previous:"yes"===$wrapper.data("anwp-auto_hide_previous"),auto_hide_next:"yes"===$wrapper.data("anwp-auto_hide_next"),total_pages:$wrapper.data("anwp-total"),text_previous:$wrapper.data("anwp-text_previous")?$wrapper.data("anwp-text_previous"):'<span aria-hidden="true">&laquo;</span>',text_next:$wrapper.data("anwp-text_next")?$wrapper.data("anwp-text_next"):'<span aria-hidden="true">&raquo;</span>',current_page:1,page_range:$wrapper.data("anwp-page_range"),range_start:1,range_end:3,show_page_numbers:"yes"===$wrapper.data("anwp-show_page_numbers")},$postsWrapper=$wrapper.closest(".anwp-pg-wrap").find(".anwp-pg-posts-wrapper");if(1!==$postsWrapper.length)return!1;function renderPagination(){var ii,html="";if(options.current_page){if(options.range_start=options.current_page-options.page_range,options.range_end=options.current_page+options.page_range,options.range_end>options.total_pages&&(options.range_end=options.total_pages,options.range_start=options.total_pages-2*options.page_range,options.range_start=options.range_start<1?1:options.range_start),options.range_start<=1&&(options.range_start=1,options.range_end=Math.min(2*options.page_range+1,options.total_pages)),options.show_previous&&(options.current_page<=1?options.auto_hide_previous||(html+='<li class="anwp-page-item"><a class="anwp-page-link anwp-page-link--disabled" href="#">'+options.text_previous+"</a></li>"):html+='<li class="anwp-page-item"><a class="anwp-page-link" title="Previous page" data-anwp-number="'+(options.current_page-1)+'" href="#">'+options.text_previous+"</a></li>"),options.show_page_numbers){if(options.range_start<=3)for(ii=1;ii<options.range_start;ii++)ii===options.current_page?html+='<li class="anwp-page-item"><a class="anwp-page-link anwp-page-link--active" href="#" data-anwp-number="'+ii+'">>'+ii+"</a></li>":html+='<li class="anwp-page-item"><a class="anwp-page-link" data-anwp-number="'+ii+'" href="#">'+ii+"</a></li>";else options.show_first_ellipsis&&(html+='<li class="anwp-page-item"><a href="#" class="anwp-page-link" data-anwp-number="1">1</a></li>'),html+='<li class="anwp-page-item"><a class="anwp-page-link anwp-page-link--disabled">...</a></li>';for(ii=options.range_start;ii<=options.range_end;ii++)ii===options.current_page?html+='<li class="anwp-page-item"><a href="#" class="anwp-page-link anwp-page-link--active" data-anwp-number="'+ii+'">'+ii+"</a></li>":html+='<li class="anwp-page-item"><a href="#" class="anwp-page-link" data-anwp-number="'+ii+'">'+ii+"</a></li>";if(options.range_end>=options.total_pages-2)for(ii=options.range_end+1;ii<=options.total_pages;ii++)html+='<li class="anwp-page-item"><a href="#" class="anwp-page-link" data-anwp-number="'+ii+'">'+ii+"</a></li>";else html+='<li class="anwp-page-item"><a href="#" class="anwp-page-link anwp-page-link--disabled">...</a></li>',options.show_last_ellipsis&&(html+='<li class="anwp-page-item"><a href="#"  class="anwp-page-link" data-anwp-number="'+options.total_pages+'">'+options.total_pages+"</a></li>")}options.show_next&&(options.current_page>=options.total_pages?options.auto_hide_next||(html+='<li class="anwp-page-item"><a class="anwp-page-link anwp-page-link--disabled" href="#">'+options.text_next+"</a></li>"):html+='<li class="anwp-page-item"><a class="anwp-page-link" data-anwp-number="'+(options.current_page+1)+'" title="Next page" href="#">'+options.text_next+"</a></li>"),$wrapper.html(html)}}$wrapper.on("click",".anwp-page-link",function($this){$this.preventDefault();$this=$(this);if($this.hasClass("anwp-page-link--active")||$this.hasClass("anwp-page-link--disabled"))return!1;options.current_page=Number($this.data("anwp-number")),renderPagination(),$postsWrapper.addClass("anwp-pg-pagination--loading"),$postsWrapper.append($loader),$xhr&&4!==$xhr.readyState&&$xhr.abort(),$xhr=$.ajax({url:l10n.ajax_url,type:"POST",dataType:"json",data:{action:"anwp_pg_ajax_pagination_load",args:$wrapper.data("anwp-pagination"),page:options.current_page,_ajax_nonce:l10n.public_nonce}}).done(function(response){response.success&&response.data.html&&($postsWrapper.html(response.data.html),$(document.body).trigger("post-load"),$(document).trigger("resize"))}).always(function(){$postsWrapper.removeClass("anwp-pg-pagination--loading")})}),renderPagination()})},app.init()}(window,jQuery,window.anwpPostGridElementor,window.anwpPostGridElementorData);