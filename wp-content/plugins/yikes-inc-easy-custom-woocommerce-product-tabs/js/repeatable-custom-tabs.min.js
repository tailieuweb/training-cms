function yikes_woo_apply_resuable_tab(e){var _=e.data,a="_yikes_wc_custom_repeatable_product_tabs_tab_title_",t=_.tab_title,s=_.tab_id;yikes_woo_add_another_tab(_.tab_content);var r=jQuery("#number_of_tabs").val();jQuery("#"+a+r).val(t),jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+r+"_action").val("add"),jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+r).val(s),jQuery("#qt__yikes_wc_custom_repeatable_product_tabs_tab_content_"+r+"_toolbar").length>0?yikes_woo_toggle_reusable_override_overlay("disable",r):jQuery("#"+a+r).addClass("yikes_woo_disable_this_tab"),jQuery("#_yikes_wc_override_reusable_tab_container_"+r).show()}function yikes_woo_fetch_reusable_tab(e,_){var a={action:"yikes_woo_fetch_reusable_tab",tab_id:e,security_nonce:repeatable_custom_tabs.fetch_reusable_tab_nonce};jQuery.post(repeatable_custom_tabs.ajaxurl,a,function(e){global_lity.close(),_(e)})}function yikes_woo_fetch_reusable_tabs(e,_){var a={action:"yikes_woo_fetch_reusable_tabs",fetch_tab_content:e,security_nonce:repeatable_custom_tabs.fetch_reusable_tabs_nonce};jQuery.post(repeatable_custom_tabs.ajaxurl,a,function(e){_(e)})}function yikes_woo_handle_reusable_tabs(e){if(void 0!==e.success&&!0===e.success)if(void 0!==e.data&&void 0!==e.data.message)jQuery("#yikes_woo_ajax_save_feedback").removeClass().addClass("yikes_woo_save_success").text(e.data.message).fadeIn().delay("2000").fadeOut();else{var _=JSON.parse(e.data);lity_html=create_lity_manage_reusable_tabs_html(_),global_lity=lity(lity_html,{handler:"inline"})}else void 0!==e.success&&!1===e.success&&console.log(response);jQuery("#_yikes_wc_apply_a_saved_tab").removeClass("disabled")}function create_lity_manage_reusable_tabs_html(e){var _=1,a="";return a+='<div class="display_saved_tabs_lity">',a+='<div class="yikes_wc_lity_header">',a+="<span> Choose a Tab </span>",a+="</div>",jQuery.each(e,function(e,t){a+='<div id="saved_tab_container_'+_+'" data-tab-id="'+t.tab_id+'">',a+='<div class="yikes_wc_lity_col_title">',a+='<span class="yikes_woo_saved_tab_title_lity" id="yikes_woo_saved_tab_title_'+_+'">',a+=t.tab_title,a+="</span>",a+='<span class="yikes_woo_saved_tab_name_lity" id="yikes_woo_saved_tab_name_'+_+'">',a+=void 0!==t.tab_name?" - "+t.tab_name:"",a+="</span>",a+="</div>",a+='<div class="yikes_wc_lity_col_select">',a+='<span class="yikes_woo_saved_tab_selector_lity dashicons dashicons-plus-alt" data-saved-tab-number="'+_+'"></span>',a+="</div>",a+="</div>",_++}),a+="</div>"}function yikes_woo_toggle_reusable_override_overlay(e,_){"disable"===e?(jQuery("#qt__yikes_wc_custom_repeatable_product_tabs_tab_content_"+_+"_toolbar").addClass("yikes_woo_using_reusable_tab"),jQuery("#_yikes_wc_custom_repeatable_product_tabs_tab_content_"+_).addClass("yikes_woo_using_reusable_tab"),jQuery("#wp-_yikes_wc_custom_repeatable_product_tabs_tab_content_"+_+"-media-buttons").addClass("yikes_woo_using_reusable_tab"),jQuery("#wp-_yikes_wc_custom_repeatable_product_tabs_tab_content_"+_+"-editor-container").children(".mce-container").children(".mce-container-body").children(".mce-toolbar-grp").addClass("yikes_woo_using_reusable_tab"),jQuery("#wp-_yikes_wc_custom_repeatable_product_tabs_tab_content_"+_+"-editor-container").children(".mce-tinymce").children(".mce-container-body").children(".mce-edit-area").addClass("yikes_woo_using_reusable_tab"),jQuery("._yikes_wc_custom_repeatable_product_tabs_tab_title_"+_+"_field").addClass("yikes_woo_using_reusable_tab")):(jQuery("#qt__yikes_wc_custom_repeatable_product_tabs_tab_content_"+_+"_toolbar").removeClass("yikes_woo_using_reusable_tab"),jQuery("#_yikes_wc_custom_repeatable_product_tabs_tab_content_"+_).removeClass("yikes_woo_using_reusable_tab"),jQuery("#wp-_yikes_wc_custom_repeatable_product_tabs_tab_content_"+_+"-media-buttons").removeClass("yikes_woo_using_reusable_tab"),jQuery("#wp-_yikes_wc_custom_repeatable_product_tabs_tab_content_"+_+"-editor-container").children(".mce-container").children(".mce-container-body").children(".mce-toolbar-grp").removeClass("yikes_woo_using_reusable_tab"),jQuery("#wp-_yikes_wc_custom_repeatable_product_tabs_tab_content_"+_+"-editor-container").children(".mce-tinymce").children(".mce-container-body").children(".mce-edit-area").removeClass("yikes_woo_using_reusable_tab"),jQuery("._yikes_wc_custom_repeatable_product_tabs_tab_title_"+_+"_field").removeClass("yikes_woo_using_reusable_tab"))}function yikes_woo_check_for_reusable_tabs_and_disable(){jQuery(".yikes_wc_override_reusable_tab_container").each(function(){1==jQuery(this).data("reusable-tab")&&yikes_woo_toggle_reusable_override_overlay("disable",jQuery(this).children("._yikes_wc_override_reusable_tab").data("tab-number"))})}function yikes_woo_add_another_tab(e){yikes_woo_toggle_controls("disable"),jQuery("._yikes_wc_add_tab_center_new").removeClass("_yikes_wc_add_tab_center_new"),jQuery("#add_another_tab").parent(".add_tabs_container").removeClass("_yikes_wc_add_tab_center");var _=jQuery("#duplicate_this_row"),a=parseInt(jQuery("#number_of_tabs").val())+parseInt(1),t=jQuery("#duplicate_this_row .button-holder"),s="_yikes_wc_custom_repeatable_product_tabs_tab_content_"+a,r="_yikes_wc_custom_repeatable_product_tabs_tab_title_"+a;_.children("p").each(function(){jQuery(this).clone().insertBefore("#duplicate_this_row").removeClass("hidden_duplicator_row_title_field hidden_duplicator_row_content_field").addClass("new_duplicate_row")}).promise().done(function(){jQuery(".new_duplicate_row").find("input").each(function(){jQuery(this).is('input[name="hidden_duplicator_row_title"]')&&jQuery(this).attr("name",r).removeClass("yikes_woo_tabs_title_field_duplicate").attr("id",r).parents("p").addClass(r+"_field").removeClass("hidden_duplicator_row_title_field").find("label").removeAttr("for").attr("for",r+"_field")}),jQuery(".new_duplicate_row").find("textarea").each(function(){jQuery(this).is('textarea[name="hidden_duplicator_row_content"]')&&jQuery(this).attr("name",s).attr("id",s).parents("p").addClass(s+"_field").removeClass("hidden_duplicator_row_content_field").find("label").removeAttr("for").attr("for",s+"_field")}),jQuery("#number_of_tabs").val(a),a>1&&jQuery(".new_duplicate_row").first().before('<div class="yikes-woo-custom-tab-divider"></div>')}),t.clone().insertAfter(jQuery("."+s+"_field")).addClass("last-button-holder"),jQuery(".last-button-holder").removeAttr("alt").attr("alt",a);var o=jQuery(".last-button-holder").children(".yikes_wc_override_reusable_tab_container");o.removeClass("_yikes_wc_override_reusable_tab_container_duplicate").children("#_yikes_wc_override_reusable_tab_duplicate").attr("id","_yikes_wc_override_reusable_tab_"+a).attr("data-tab-number",a),o.children("._yikes_wc_override_reusable_tab_label_duplicate").attr("for","_yikes_wc_override_reusable_tab_"+a).attr("id","_yikes_wc_override_reusable_tab_label_"+a).removeClass("_yikes_wc_override_reusable_tab_label_duplicate").addClass("_yikes_wc_override_reusable_tab_label"),o.children("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_action_duplicate").attr("name","_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+a+"_action").attr("id","_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+a+"_action"),o.children("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_duplicate").attr("name","_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+a).attr("id","_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+a),jQuery("#_yikes_wc_override_reusable_tab_container_duplicate").first().attr("id","_yikes_wc_override_reusable_tab_container_"+a),1===parseInt(repeatable_custom_tabs.wp_version_four_eight)?yikes_woo_get_wp_editor_foureight(s,!0,e):(jQuery("."+s+"_field").html(repeatable_custom_tabs.loading_gif),yikes_woo_get_wp_editor_ajax(s,!0,e)),jQuery(".last-button-holder").removeClass("last-button-holder"),jQuery(".new_duplicate_row").removeClass("new_duplicate_row")}function yikes_woo_set_editor_specific_styles(){jQuery('textarea[name^="_yikes_wc_custom_repeatable_product_tabs_tab_content_"]').each(function(){jQuery(this).addClass("yikes_woo_custom_editor_styles")})}jQuery(document).ready(function(){setTimeout(function(){yikes_woo_check_for_reusable_tabs_and_disable(),yikes_woo_set_editor_specific_styles()},4e3),jQuery(".yikes-tabs-how-to-toggle").on("click",function(e){yikes_woo_toggle_how_to()}),jQuery("#add_another_tab").click(function(e){yikes_woo_add_another_tab(""),e.preventDefault()}),jQuery("body").on("click",".remove_this_tab",function(e){var _=jQuery(this).parents(".button-holder").attr("alt"),a=jQuery("#number_of_tabs").val(),t="_yikes_wc_custom_repeatable_product_tabs_tab_title_",s="_yikes_wc_custom_repeatable_product_tabs_tab_content_";if(_!==a)for(var r=parseInt(_);r<a;){var o="",i="",c=r+1;o=jQuery("#"+t+c).val(),jQuery("#"+t+r).val(o),i=yikes_woo_get_content_from_wysiwyg(s+c),yikes_woo_set_content_for_wysiwyg(s+r,i);var l=jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+c+"_action").val(),u=jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+c).val();jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+r+"_action").val(l),jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+r).val(u);var b=jQuery("#_yikes_wc_override_reusable_tab_"+c).is(":checked");jQuery("#_yikes_wc_override_reusable_tab_"+r).prop("checked",b),jQuery("#_yikes_wc_override_reusable_tab_container_"+c).is(":visible")?jQuery("#_yikes_wc_override_reusable_tab_container_"+r).show():jQuery("#_yikes_wc_override_reusable_tab_container_"+r).hide(),jQuery("._yikes_wc_custom_repeatable_product_tabs_tab_title_"+c+"_field").hasClass("yikes_woo_using_reusable_tab")?yikes_woo_toggle_reusable_override_overlay("disable",r):yikes_woo_toggle_reusable_override_overlay("enable",r),r++}var t="_yikes_wc_custom_repeatable_product_tabs_tab_title_",d=(s="_yikes_wc_custom_repeatable_product_tabs_tab_content_")+a,y=jQuery("#_yikes_wc_override_reusable_tab_container_"+a),n=jQuery("."+t+a+"_field"),v=jQuery("."+s+a+"_field"),w=jQuery(".yikes-woo-custom-tab-divider").last(),k=jQuery("."+s+a+"_field").next(".button-holder"),p=parseInt(a)-parseInt(1);"undefined"!=typeof tinymce&&tinymce.execCommand("mceRemoveEditor",!1,d),y.remove(),n.remove(),v.remove(),w.remove(),k.remove(),jQuery("#number_of_tabs").val(p),0===parseInt(p)&&jQuery("#add_another_tab").parent(".add_tabs_container").addClass("_yikes_wc_add_tab_center"),e.preventDefault()}),jQuery("body").on("click",".move-tab-data-up",function(){var e=jQuery(this).parents(".button-holder").attr("alt");if(1==e)return!1;var _="_yikes_wc_custom_repeatable_product_tabs_tab_title_",a="_yikes_wc_custom_repeatable_product_tabs_tab_content_",t=jQuery("#"+_+e).val(),s=yikes_woo_get_content_from_wysiwyg(a+e),r=parseInt(e)-parseInt(1),o=jQuery("#"+_+r).val(),i=yikes_woo_get_content_from_wysiwyg(a+r);jQuery("."+_+e+"_field").hasClass("yikes_woo_using_reusable_tab")&&!jQuery("."+_+r+"_field").hasClass("yikes_woo_using_reusable_tab")?(yikes_woo_toggle_reusable_override_overlay("enable",e),yikes_woo_toggle_reusable_override_overlay("disable",r)):jQuery("."+_+r+"_field").hasClass("yikes_woo_using_reusable_tab")&&!jQuery("."+_+e+"_field").hasClass("yikes_woo_using_reusable_tab")&&(yikes_woo_toggle_reusable_override_overlay("disable",e),yikes_woo_toggle_reusable_override_overlay("enable",r));var c=jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+e+"_action").val(),l=jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+e).val(),u=jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+r+"_action").val(),b=jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+r).val();jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+e+"_action").val(u),jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+r+"_action").val(c),jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+e).val(b),jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+r).val(l),!0===jQuery("#_yikes_wc_override_reusable_tab_"+e).is(":checked")&&!1===jQuery("#_yikes_wc_override_reusable_tab_"+r).is(":checked")?(jQuery("#_yikes_wc_override_reusable_tab_"+r).prop("checked",!0),jQuery("#_yikes_wc_override_reusable_tab_"+e).prop("checked",!1)):!1===jQuery("#_yikes_wc_override_reusable_tab_"+e).is(":checked")&&!0===jQuery("#_yikes_wc_override_reusable_tab_"+r).is(":checked")&&(jQuery("#_yikes_wc_override_reusable_tab_"+r).prop("checked",!1),jQuery("#_yikes_wc_override_reusable_tab_"+e).prop("checked",!0)),!0===jQuery("#_yikes_wc_override_reusable_tab_container_"+e).is(":visible")&&!1===jQuery("#_yikes_wc_override_reusable_tab_container_"+r).is(":visible")?(jQuery("#_yikes_wc_override_reusable_tab_container_"+r).show(),jQuery("#_yikes_wc_override_reusable_tab_container_"+e).hide()):!1===jQuery("#_yikes_wc_override_reusable_tab_container_"+e).is(":visible")&&!0===jQuery("#_yikes_wc_override_reusable_tab_container_"+r).is(":visible")&&(jQuery("#_yikes_wc_override_reusable_tab_container_"+r).hide(),jQuery("#_yikes_wc_override_reusable_tab_container_"+e).show()),jQuery("#"+_+e).val(o),jQuery("#"+_+r).val(t),yikes_woo_set_content_for_wysiwyg(a+e,i),yikes_woo_set_content_for_wysiwyg(a+r,s)}),jQuery("body").on("click",".move-tab-data-down",function(){var e=jQuery(this).parents(".button-holder").attr("alt");if(e==jQuery("#number_of_tabs").val())return!1;var _="_yikes_wc_custom_repeatable_product_tabs_tab_title_",a="_yikes_wc_custom_repeatable_product_tabs_tab_content_",t=jQuery("#"+_+e).val(),s=yikes_woo_get_content_from_wysiwyg(a+e),r=parseInt(e)+parseInt(1),o=jQuery("#"+_+r).val(),i=yikes_woo_get_content_from_wysiwyg(a+r);jQuery("."+_+e+"_field").hasClass("yikes_woo_using_reusable_tab")&&!jQuery("."+_+r+"_field").hasClass("yikes_woo_using_reusable_tab")?(yikes_woo_toggle_reusable_override_overlay("enable",e),yikes_woo_toggle_reusable_override_overlay("disable",r)):jQuery("."+_+r+"_field").hasClass("yikes_woo_using_reusable_tab")&&!jQuery("."+_+e+"_field").hasClass("yikes_woo_using_reusable_tab")&&(yikes_woo_toggle_reusable_override_overlay("disable",e),yikes_woo_toggle_reusable_override_overlay("enable",r));var c=jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+e+"_action").val(),l=jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+e).val(),u=jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+r+"_action").val(),b=jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+r).val();jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+e+"_action").val(u),jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+r+"_action").val(c),jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+e).val(b),jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+r).val(l),!0===jQuery("#_yikes_wc_override_reusable_tab_"+e).is(":checked")&&!1===jQuery("#_yikes_wc_override_reusable_tab_"+r).is(":checked")?(jQuery("#_yikes_wc_override_reusable_tab_"+r).prop("checked",!0),jQuery("#_yikes_wc_override_reusable_tab_"+e).prop("checked",!1)):!1===jQuery("#_yikes_wc_override_reusable_tab_"+e).is(":checked")&&!0===jQuery("#_yikes_wc_override_reusable_tab_"+r).is(":checked")&&(jQuery("#_yikes_wc_override_reusable_tab_"+r).prop("checked",!1),jQuery("#_yikes_wc_override_reusable_tab_"+e).prop("checked",!0)),!0===jQuery("#_yikes_wc_override_reusable_tab_container_"+e).is(":visible")&&!1===jQuery("#_yikes_wc_override_reusable_tab_container_"+r).is(":visible")?(jQuery("#_yikes_wc_override_reusable_tab_container_"+r).show(),jQuery("#_yikes_wc_override_reusable_tab_container_"+e).hide()):!1===jQuery("#_yikes_wc_override_reusable_tab_container_"+e).is(":visible")&&!0===jQuery("#_yikes_wc_override_reusable_tab_container_"+r).is(":visible")&&(jQuery("#_yikes_wc_override_reusable_tab_container_"+r).hide(),jQuery("#_yikes_wc_override_reusable_tab_container_"+e).show()),jQuery("#"+_+e).val(o),jQuery("#"+_+r).val(t),yikes_woo_set_content_for_wysiwyg(a+e,i),yikes_woo_set_content_for_wysiwyg(a+r,s)}),jQuery("body").on("click","#_yikes_wc_apply_a_saved_tab",function(){if(jQuery(this).hasClass("disabled"))return!1;jQuery(this).addClass("disabled"),yikes_woo_fetch_reusable_tabs(!1,yikes_woo_handle_reusable_tabs)}),jQuery("body").on("click",".yikes_woo_saved_tab_selector_lity",function(){var e=jQuery(this).data("saved-tab-number"),_=jQuery("#saved_tab_container_"+e).data("tab-id");jQuery(".lity-content").html(repeatable_custom_tabs.loading_gif).css("width","50px").children("img").css("margin-left","37%"),yikes_woo_fetch_reusable_tab(_,yikes_woo_apply_resuable_tab)}),jQuery("body").on("click","._yikes_wc_override_reusable_tab",function(){var e=jQuery(this).data("tab-number");!0===jQuery(this).is(":checked")?(yikes_woo_display_feedback_messages("_yikes_wc_override_reusable_tab_container_"+e,"_yikes_wc_override_reusable_tab_message","If you override this tab it will no longer recognize global tab changes.",!1),jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+e+"_action").val("remove"),yikes_woo_toggle_reusable_override_overlay("enable",e)):(jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+e+"_action").val("add"),yikes_woo_toggle_reusable_override_overlay("disable",e))}),jQuery("body").on("focusout",".yikes_woo_tabs_title_field",function(){var e=jQuery(this);if(1===parseInt(jQuery("#number_of_tabs").val()))return e.removeClass("_yikes_wc_title_red_overlay"),void e.parent(".form-field").children("._yikes_wc_duplicate_title_message").remove();var _=jQuery(this).attr("id"),a=jQuery(this).val(),t=!1;jQuery(".yikes_woo_tabs_title_field").each(function(s,r){jQuery(r).attr("id")!=_&&""!=jQuery(r).val()&&jQuery(r).val()===a&&(e.addClass("_yikes_wc_title_red_overlay"),e.parent(".form-field").children("._yikes_wc_duplicate_title_message").remove(),e.parent(".form-field").prepend('<span class="_yikes_wc_duplicate_title_message"> Please choose a unique tab name - duplicate tab names can create errors </span>'),t=!0)}),!1===t&&(jQuery("._yikes_wc_title_red_overlay").removeClass("_yikes_wc_title_red_overlay"),jQuery("._yikes_wc_duplicate_title_message").remove())}),jQuery("body").on("lity:close",function(){jQuery("#_yikes_wc_apply_a_saved_tab").removeClass("disabled")}),jQuery("#yikes_woo_save_custom_tabs").click(function(){if(!0!==jQuery("#yikes_woo_save_custom_tabs").hasClass("disabled")){jQuery("#yikes_woo_save_custom_tabs").addClass("disabled"),jQuery("#yikes_woo_ajax_save_feedback").fadeOut();for(var e=jQuery("#number_of_tabs").val(),_={action:"yikes_woo_save_product_tabs",post_id:repeatable_custom_tabs.global_post_id,number_of_tabs:e,security_nonce:repeatable_custom_tabs.save_product_tabs_nonce},a=1;a<=e;a++)_["_yikes_wc_custom_repeatable_product_tabs_tab_title_"+a]=jQuery("#_yikes_wc_custom_repeatable_product_tabs_tab_title_"+a).val(),_["_yikes_wc_custom_repeatable_product_tabs_tab_content_"+a]=yikes_woo_get_content_from_wysiwyg("_yikes_wc_custom_repeatable_product_tabs_tab_content_"+a),_["_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+a]=jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+a).val(),_["_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+a+"_action"]=jQuery("#_yikes_wc_custom_repeatable_product_tabs_saved_tab_id_"+a+"_action").val();jQuery.post(repeatable_custom_tabs.ajaxurl,_,function(e){void 0!==e.success&&(!0===e.success?feedback_message_class="yikes_woo_save_success":!1===e.success&&(feedback_message_class="yikes_woo_save_failure")),void 0!==e.data&&void 0!==e.data.message&&jQuery("#yikes_woo_ajax_save_feedback").removeClass().addClass(feedback_message_class).text(e.data.message).fadeIn().delay("2000").fadeOut(),jQuery("#yikes_woo_save_custom_tabs").removeClass("disabled")})}})});