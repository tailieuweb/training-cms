jQuery(window).on("elementor:init",function(){var e=jQuery,t=elementor.modules.controls.BaseData.extend({onReady:function(){var t=this.ui.select,a=t.attr("data-ajax-url");t.select2({ajax:{url:a,dataType:"json",data:function(e){var a={s:e.term};return void 0===t.attr("multiple")&&(a.add_default="1"),a}},cache:!0});var n=void 0!==this.getControlValue()?this.getControlValue():"";n.isArray&&(n=this.getControlValue().join()),e.ajax({url:a,dataType:"json",data:{ids:String(n)}}).then(function(a){null!==a&&a.results.length>0&&(e.each(a.results,function(e,a){t.append(new Option(a.text,a.id,!0,!0)).trigger("change")}),t.trigger({type:"select2:select",params:{data:a}}))})},onBeforeDestroy:function(){this.ui.select.data("select2")&&this.ui.select.select2("destroy"),this.$el.remove()}});elementor.addControlView("porto_ajaxselect2",t)});