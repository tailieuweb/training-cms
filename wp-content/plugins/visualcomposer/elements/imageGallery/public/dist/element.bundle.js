(window.vcvWebpackJsonp4x=window.vcvWebpackJsonp4x||[]).push([[0],{"./imageGallery/index.js":function(e,a,n){"use strict";n.r(a);var i=n("./node_modules/vc-cake/index.js"),t=n.n(i),l=n("./node_modules/@babel/runtime/helpers/extends/index.js"),r=n.n(l),o=n("./node_modules/@babel/runtime/helpers/typeof/index.js"),s=n.n(o),c=n("./node_modules/@babel/runtime/helpers/classCallCheck/index.js"),m=n.n(c),g=n("./node_modules/@babel/runtime/helpers/createClass/index.js"),p=n.n(g),u=n("./node_modules/@babel/runtime/helpers/assertThisInitialized/index.js"),d=n.n(u),h=n("./node_modules/@babel/runtime/helpers/inherits/index.js"),v=n.n(h),f=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn/index.js"),b=n.n(f),y=n("./node_modules/@babel/runtime/helpers/getPrototypeOf/index.js"),x=n.n(y),w=n("./node_modules/@babel/runtime/helpers/defineProperty/index.js"),k=n.n(w),G=n("./node_modules/react/index.js"),S=n.n(G);function C(e){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=x()(e);if(a){var t=x()(this).constructor;n=Reflect.construct(i,arguments,t)}else n=i.apply(this,arguments);return b()(this,n)}}var j=function(e){v()(n,e);var a=C(n);function n(e){var i;return m()(this,n),i=a.call(this,e),k()(d()(i),"imageSources",[]),k()(d()(i),"imageOrder",{}),i.createCustomSizeImage=i.createCustomSizeImage.bind(d()(i)),i}return p()(n,[{key:"componentDidMount",value:function(){this.prepareImage(this.props.atts.image)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.imageSources=[],this.imageOrder={},this.prepareImage(e.atts.image)}},{key:"prepareImage",value:function(e){var a=this;if(e.length&&"object"===s()(e[0])){var n=[];e.forEach((function(e,i){var t=e;t.full=t.id?t.full:a.getImageUrl(t.full),t.id=t.id?t.id:Math.random(),n.push(e)})),e=n,this.setImageOrder(e),this.resizeImage(e)}var i=[];e.forEach((function(n){e&&e.id,i.push({imgSrc:a.getImageUrl(n)})})),this.setImgSrcState(i)}},{key:"setImageOrder",value:function(e){var a=this;e.forEach((function(e,n){a.imageOrder[n]=e.id}))}},{key:"checkImageSize",value:function(e,a,n){var i=new window.Image;i.onload=function(){var t={width:i.width,height:i.height};a(e,t,n)},i.src=e.full}},{key:"resizeImage",value:function(e){var a=this;e.forEach((function(n){a.checkImageSize(n,a.createCustomSizeImage,e.length)}))}},{key:"createCustomSizeImage",value:function(e,a,n){e.orientation=this.checkOrientation(a),this.imageSources.filter((function(a){return a.id===e.id})).length||this.imageSources.push(e),this.imageSources.length===n&&this.orderImages()}},{key:"orderImages",value:function(){var e=this,a=[];this.imageSources.forEach((function(n,i){var t=e.imageSources.filter((function(a){return a.id===e.imageOrder[i]}));t[0]&&a.push({imgSrc:e.getImageUrl(t[0],"large"),orientation:t[0].orientation,originalSrc:e.getImageUrl(t[0]),alt:t[0].alt,title:t[0].title})})),this.setImgSrcState(a)}},{key:"checkOrientation",value:function(e){return e.width>=e.height?"landscape":"portrait"}},{key:"setImgSrcState",value:function(e){this.setState({imgSrc:e})}},{key:"render",value:function(){var e=this.props,a=e.id,n=e.atts,i=e.editor,t=n.image,l=n.shape,o=n.clickableOptions,s=n.showCaption,c=n.customClass,m=n.metaCustomId,g=n.showCaptionGeneral,p=n.captionAlignment,u="vce-image-gallery",d={},h="div",v=this.state&&this.state.imgSrc;"string"==typeof c&&c&&(u+=" "+c);var f=this.getMixinData("imageGalleryGap");f&&(u+=" vce-image-gallery--gap-".concat(f.selector)),(f=this.getMixinData("imageGalleryColumns"))&&(u+=" vce-image-gallery--columns-".concat(f.selector)),"rounded"===l&&(u+=" vce-image-gallery--border-rounded"),"round"===l&&(u+=" vce-image-gallery--border-round"),m&&(d.id=m),g&&p&&(u+=" vce-image-gallery-caption--align-".concat(p));var b=[];v&&v.forEach((function(e,n){var i={},l="vce-image-gallery-item-inner",c="vce-image-gallery-img",m={alt:e&&e.alt?e.alt:"",title:e&&e.title?e.title:""},p={};if("portrait"===e.orientation&&(c+=" vce-image-gallery-img--orientation-portrait"),"url"===o&&t[n].link&&t[n].link.url){h="a";var u=t[n].link;i={href:u.url,title:u.title,target:u.targetBlank?"_blank":void 0,rel:u.relNofollow?"nofollow":void 0}}else"imageNewTab"===o?(h="a",i={href:e.originalSrc||e.imgSrc,target:"_blank"}):"lightbox"===o?(h="a",i={href:e.originalSrc||e.imgSrc,"data-lightbox":"lightbox-".concat(a)}):"photoswipe"===o&&(h="a",i={href:e.originalSrc||e.imgSrc,"data-photoswipe-image":a,"data-photoswipe-index":n},s&&(i["data-photoswipe-caption"]=t[n].caption),d["data-photoswipe-gallery"]=a,p["data-photoswipe-item"]="photoswipe-".concat(a));t[n]&&t[n].filter&&"normal"!==t[n].filter&&(l+=" vce-image-filter--".concat(t[n].filter));var v="";g&&t[n].caption&&(v=S.a.createElement("figcaption",null,t[n].caption)),b.push(S.a.createElement("div",r()({className:"vce-image-gallery-item",key:"vce-image-gallery-item-".concat(n,"-").concat(a)},p),S.a.createElement("figure",{className:"vce-image-gallery-item-inner-wrapper"},S.a.createElement(h,r()({},i,{className:l}),S.a.createElement("img",r()({className:c,src:e.imgSrc},m))),v)))}));var y=this.applyDO("all");return S.a.createElement("div",r()({className:u},i,d),S.a.createElement("div",r()({className:"vce-image-gallery-wrapper vce",id:"el-"+a},y),S.a.createElement("div",{className:"vce-image-gallery-list"},b)))}}]),n}(t.a.getService("api").elementComponent);(0,t.a.getService("cook").add)(n("./imageGallery/settings.json"),(function(e){e.add(j)}),{css:n("./node_modules/raw-loader/index.js!./imageGallery/styles.css"),editorCss:n("./node_modules/raw-loader/index.js!./imageGallery/editor.css"),mixins:{imageGalleryColumns:{mixin:n("./node_modules/raw-loader/index.js!./imageGallery/cssMixins/imageGalleryColumns.pcss")},imageGalleryGap:{mixin:n("./node_modules/raw-loader/index.js!./imageGallery/cssMixins/imageGalleryGap.pcss")}}},"")},"./imageGallery/settings.json":function(e){e.exports=JSON.parse('{"image":{"type":"attachimage","access":"public","value":["https://cdn.hub.visualcomposer.com/plugin-assets/core-elements/imageGallery/image-1.jpg","https://cdn.hub.visualcomposer.com/plugin-assets/core-elements/imageGallery/image-2.jpg","https://cdn.hub.visualcomposer.com/plugin-assets/core-elements/imageGallery/image-3.jpg","https://cdn.hub.visualcomposer.com/plugin-assets/core-elements/imageGallery/image-4.jpg","https://cdn.hub.visualcomposer.com/plugin-assets/core-elements/imageGallery/image-5.jpg","https://cdn.hub.visualcomposer.com/plugin-assets/core-elements/imageGallery/image-6.jpg"],"options":{"multiple":true,"onChange":{"rules":{"clickableOptions":{"rule":"value","options":{"value":"url"}}},"actions":[{"action":"attachImageUrls"}]},"url":false,"imageFilter":true}},"shape":{"type":"buttonGroup","access":"public","value":"square","options":{"label":"Shape","values":[{"label":"Square","value":"square","icon":"vcv-ui-icon-attribute-shape-square"},{"label":"Rounded","value":"rounded","icon":"vcv-ui-icon-attribute-shape-rounded"},{"label":"Round","value":"round","icon":"vcv-ui-icon-attribute-shape-round"}]}},"designOptions":{"type":"designOptions","access":"public","value":{},"options":{"label":"Design Options"}},"editFormTab1":{"type":"group","access":"protected","value":["clickableOptions","showCaption","image","showCaptionGeneral","captionAlignment","columns","gap","shape","metaCustomId","customClass"],"options":{"label":"General"}},"metaEditFormTabs":{"type":"group","access":"protected","value":["editFormTab1","designOptions"]},"relatedTo":{"type":"group","access":"protected","value":["General"]},"customClass":{"type":"string","access":"public","value":"","options":{"label":"Extra class name","description":"Add an extra class name to the element and refer to it from the custom CSS option."}},"clickableOptions":{"type":"dropdown","access":"public","value":"lightbox","options":{"label":"OnClick action","description":"Choose an event performed when clicking on the image.","values":[{"label":"None","value":""},{"label":"Lightbox","value":"lightbox"},{"label":"PhotoSwipe","value":"photoswipe"},{"label":"Open the image in a new tab","value":"imageNewTab"},{"label":"Link selector","value":"url"}]}},"showCaption":{"type":"toggle","access":"public","value":false,"options":{"label":"Show the image caption in gallery view","onChange":{"rules":{"clickableOptions":{"rule":"value","options":{"value":"photoswipe"}}},"actions":[{"action":"toggleVisibility"}]}}},"showCaptionGeneral":{"type":"toggle","access":"public","value":false,"options":{"label":"Show the image caption below every image"}},"captionAlignment":{"type":"buttonGroup","access":"public","value":"left","options":{"label":"Caption alignment","values":[{"label":"Left","value":"left","icon":"vcv-ui-icon-attribute-alignment-left"},{"label":"Center","value":"center","icon":"vcv-ui-icon-attribute-alignment-center"},{"label":"Right","value":"right","icon":"vcv-ui-icon-attribute-alignment-right"}],"onChange":{"rules":{"showCaptionGeneral":{"rule":"toggle"}},"actions":[{"action":"toggleVisibility"}]}}},"sharedAssetsLibrary":{"access":"protected","type":"string","value":{"libraries":[{"rules":{"clickableOptions":{"rule":"value","options":{"value":"lightbox"}}},"libsNames":["lightbox"]},{"rules":{"clickableOptions":{"rule":"value","options":{"value":"photoswipe"}}},"libsNames":["photoswipe"]}]}},"gap":{"type":"number","access":"public","value":"10","options":{"label":"Gap","description":"Enter the gap in pixels (example: 5).","cssMixin":{"mixin":"imageGalleryGap","property":"gap","namePattern":"[\\\\da-f]+"}}},"columns":{"type":"number","access":"public","value":"3","options":{"label":"Number of columns","cssMixin":{"mixin":"imageGalleryColumns","property":"columns","namePattern":"[\\\\da-f]+"}}},"metaCustomId":{"type":"customId","access":"public","value":"","options":{"label":"Element ID","description":"Apply a unique ID to the element to link it directly by using #your_id (for element ID use lowercase input only)."}},"tag":{"access":"protected","type":"string","value":"imageGallery"}}')},"./node_modules/raw-loader/index.js!./imageGallery/cssMixins/imageGalleryColumns.pcss":function(e,a){e.exports="@media (min-width: 544px) {\n  .vce-image-gallery {\n\t&--columns-$selector {\n\t  .vce-image-gallery-item {\n\t    @if $columns != false {\n\t      -webkit-flex: 0 0 calc(100% / $columns);\n\t          -ms-flex: 0 0 calc(100% / $columns);\n\t              flex: 0 0 calc(100% / $columns);\n\t      max-width: calc(100% / $columns);\n\t    }\n\t  }\n\t}\n  }\n}\n\n"},"./node_modules/raw-loader/index.js!./imageGallery/cssMixins/imageGalleryGap.pcss":function(e,a){e.exports=".vce-image-gallery {\n  &--gap-$selector {\n    .vce-image-gallery-list {\n      @if $gap != false {\n        margin-left: calc(-$(gap)px / 2);\n        margin-right: calc(-$(gap)px / 2);\n        margin-bottom: -$(gap)px;\n      }\n    }\n    .vce-image-gallery-item {\n      @if $gap != false {\n        padding-left: calc($(gap)px / 2);\n        padding-right: calc($(gap)px / 2);\n        margin-bottom: $(gap)px;\n      }\n    }\n  }\n}\n"},"./node_modules/raw-loader/index.js!./imageGallery/editor.css":function(e,a){e.exports=".vce-image-gallery {\n  min-height: 1em;\n}\n"},"./node_modules/raw-loader/index.js!./imageGallery/styles.css":function(e,a){e.exports='.vce-image-gallery-wrapper {\n  overflow: hidden;\n}\n\n.vce-image-gallery-list {\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-direction: row;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-justify-content: flex-start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-align-items: stretch;\n      -ms-flex-align: stretch;\n          align-items: stretch;\n  -webkit-align-content: flex-start;\n      -ms-flex-line-pack: start;\n          align-content: flex-start;\n  -webkit-flex-wrap: wrap;\n      -ms-flex-wrap: wrap;\n          flex-wrap: wrap;\n}\n\n.vce-image-gallery-item {\n  -webkit-flex: 0 0 100%;\n      -ms-flex: 0 0 100%;\n          flex: 0 0 100%;\n  max-width: 100%;\n  box-sizing: border-box;\n}\n\n.vce-image-gallery-item-inner-wrapper {\n  overflow: hidden;\n  margin: 0;\n}\n\n.vce-image-gallery-item-inner {\n  position: relative;\n  display: block;\n  overflow: hidden;\n}\n\n.vce-image-gallery-item-inner::after {\n  content: "";\n  padding-bottom: 100%;\n  display: block;\n}\n\n.vce-image-gallery-item-inner img.vce-image-gallery-img {\n  position: absolute;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  left: 50%;\n  top: 50%;\n  width: auto;\n  max-width: none;\n  height: 101%;\n}\n\n.vce-image-gallery-item-inner img.vce-image-gallery-img--orientation-portrait {\n  width: 101%;\n  height: auto;\n}\n\na.vce-image-gallery-item-inner {\n  color: transparent;\n  border-bottom: 0;\n  text-decoration: none;\n  box-shadow: none;\n}\n\na.vce-image-gallery-item-inner:hover,\na.vce-image-gallery-item-inner:focus {\n  border-bottom: 0;\n  text-decoration: none;\n  box-shadow: none;\n}\n\n.vce-image-gallery--border-rounded .vce-image-gallery-item-inner {\n  border-radius: 5px;\n  overflow: hidden;\n}\n\n.vce-image-gallery--border-round .vce-image-gallery-item-inner {\n  border-radius: 50%;\n  overflow: hidden;\n}\n\n.vce-image-gallery-item-inner-wrapper figcaption {\n  font-style: italic;\n  margin-top: 10px;\n}\n\n.vce-image-gallery-caption--align-left figcaption {\n  text-align: left;\n}\n\n.vce-image-gallery-caption--align-center figcaption {\n  text-align: center;\n}\n\n.vce-image-gallery-caption--align-right figcaption {\n  text-align: right;\n}'}},[["./imageGallery/index.js"]]]);